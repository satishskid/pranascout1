# Netlify Deployment Guide for Pranayama Coach Web Dashboard\n\nThis guide will walk you through deploying the Pranayama Coach Admin Dashboard to Netlify.\n\n## Prerequisites\n\n- [Netlify account](https://netlify.com)\n- GitHub repository with your code\n- Access to your repository's settings (for secrets)\n\n## Step 1: Manual Netlify Deployment (Quick Start)\n\n### Option A: GitHub Integration (Recommended)\n\n1. **Login to Netlify**\n   - Go to [netlify.com](https://netlify.com) and sign in\n   - Click \"New site from Git\"\n\n2. **Connect GitHub Repository**\n   - Choose \"GitHub\" as your Git provider\n   - Authorize Netlify to access your repositories\n   - Select your `pranayama-coach` repository\n\n3. **Configure Build Settings**\n   ```\n   Base directory: web-dashboard\n   Build command: npm run build\n   Publish directory: web-dashboard/build\n   ```\n\n4. **Set Environment Variables**\n   In Netlify dashboard → Site settings → Environment variables:\n   ```\n   REACT_APP_API_URL=/api\n   REACT_APP_ENVIRONMENT=production\n   REACT_APP_APP_NAME=Pranayama Coach Admin\n   REACT_APP_VERSION=1.0.0\n   ```\n\n5. **Deploy**\n   - Click \"Deploy site\"\n   - Netlify will automatically build and deploy your site\n\n### Option B: Manual Upload\n\n1. **Build the Dashboard Locally**\n   ```bash\n   cd web-dashboard\n   npm install\n   npm run build\n   ```\n\n2. **Upload to Netlify**\n   - In Netlify dashboard, drag and drop the `build` folder\n   - Or use Netlify CLI: `netlify deploy --prod --dir=build`\n\n## Step 2: Configure Custom Domain (Optional)\n\n1. **Add Domain**\n   - In Netlify dashboard → Domain settings\n   - Click \"Add custom domain\"\n   - Enter your domain (e.g., `admin.pranayamacoach.com`)\n\n2. **Configure DNS**\n   - Add CNAME record pointing to your Netlify subdomain\n   - Or use Netlify DNS for full management\n\n3. **Enable HTTPS**\n   - Netlify automatically provisions SSL certificates\n   - Force HTTPS redirects in Site settings\n\n## Step 3: Set Up Continuous Deployment\n\n### GitHub Actions (Already Configured)\n\nThe repository includes GitHub Actions that automatically deploy to Netlify on every push to `main`. You need to set up these secrets:\n\n1. **Get Netlify Credentials**\n   ```bash\n   # Install Netlify CLI\n   npm install -g netlify-cli\n   \n   # Login to Netlify\n   netlify login\n   \n   # Get site ID\n   netlify sites:list\n   \n   # Get access token\n   netlify env:list\n   ```\n\n2. **Add GitHub Secrets**\n   Go to GitHub repository → Settings → Secrets and variables → Actions:\n   \n   ```\n   NETLIFY_AUTH_TOKEN=your_netlify_access_token\n   NETLIFY_SITE_ID=your_site_id\n   PRODUCTION_API_URL=/api\n   ```\n\n## Step 4: Configure API Proxy\n\nThe dashboard is configured to proxy API requests to your backend. The `netlify.toml` file includes:\n\n```toml\n# API proxy to backend\n[[redirects]]\n  from = \"/api/*\"\n  to = \"https://pranayama-coach-backend.up.railway.app/api/:splat\"\n  status = 200\n  force = true\n```\n\n**Update the `to` URL** in `web-dashboard/netlify.toml` to match your actual backend URL.\n\n## Step 5: Environment-Specific Configuration\n\n### Production Environment Variables\n\nCreate/update `web-dashboard/.env.production`:\n\n```env\nREACT_APP_API_URL=/api\nREACT_APP_ENVIRONMENT=production\nREACT_APP_APP_NAME=Pranayama Coach Admin\nREACT_APP_VERSION=1.0.0\nREACT_APP_ENABLE_ANALYTICS=true\nREACT_APP_ENABLE_REAL_TIME=true\nREACT_APP_ENABLE_EXPORT=true\nREACT_APP_DEBUG=false\nREACT_APP_MOCK_API=false\n```\n\n### Development vs Production\n\n- **Development**: Uses direct API URLs (http://localhost:3000)\n- **Production**: Uses proxy URLs (/api) that Netlify redirects to your backend\n\n## Step 6: Testing the Deployment\n\n1. **Access the Dashboard**\n   - Open your Netlify URL (e.g., `https://amazing-site-name.netlify.app`)\n   - Or your custom domain if configured\n\n2. **Test Login**\n   - Try logging in with admin credentials\n   - Verify API connectivity through the proxy\n\n3. **Check All Features**\n   - Navigate through all dashboard sections\n   - Test data loading and export functionality\n   - Verify responsive design on mobile devices\n\n## Step 7: Production Optimizations\n\n### Performance\n\n1. **Enable Netlify Analytics** (optional)\n   ```\n   # In Netlify dashboard\n   Site settings → Analytics → Enable\n   ```\n\n2. **Configure Caching**\n   ```toml\n   # Already in netlify.toml\n   [[headers]]\n     for = \"/static/*\"\n     [headers.values]\n       Cache-Control = \"public, max-age=31536000, immutable\"\n   ```\n\n### Security\n\n1. **Security Headers** (already configured in netlify.toml)\n   - CSP (Content Security Policy)\n   - XSS Protection\n   - Frame Options\n\n2. **Environment Variable Security**\n   - Never commit `.env` files\n   - Use Netlify's encrypted environment variables\n   - Rotate API keys regularly\n\n## Step 8: Monitoring and Maintenance\n\n### Netlify Features\n\n1. **Deploy Previews**\n   - Automatic preview URLs for pull requests\n   - Test changes before merging\n\n2. **Form Handling** (if needed)\n   - Netlify can handle contact forms\n   - Add `netlify` attribute to forms\n\n3. **Functions** (for future use)\n   - Serverless functions for API extensions\n   - Edge handlers for advanced routing\n\n### Monitoring\n\n1. **Netlify Analytics**\n   - Page views and performance metrics\n   - Core Web Vitals tracking\n\n2. **Error Tracking**\n   - Configure Sentry or similar (optional)\n   - Monitor JavaScript errors\n\n3. **Uptime Monitoring**\n   - Use services like Pingdom or UptimeRobot\n   - Monitor both dashboard and API endpoints\n\n## Troubleshooting\n\n### Common Issues\n\n1. **Build Failures**\n   ```bash\n   # Check build logs in Netlify dashboard\n   # Common fixes:\n   npm ci  # instead of npm install\n   CI=false npm run build  # ignore warnings\n   ```\n\n2. **API Connection Issues**\n   - Verify backend is deployed and accessible\n   - Check CORS settings on backend\n   - Confirm proxy configuration in netlify.toml\n\n3. **Authentication Issues**\n   - Ensure JWT tokens work across domains\n   - Check cookie settings for cross-origin\n   - Verify API endpoints are accessible\n\n4. **Environment Variables**\n   ```bash\n   # Check what's being built\n   console.log(process.env.REACT_APP_API_URL)\n   ```\n\n### Getting Help\n\n1. **Netlify Support**\n   - [Netlify Documentation](https://docs.netlify.com)\n   - [Community Forums](https://answers.netlify.com)\n\n2. **Build Logs**\n   - Always check deploy logs first\n   - Enable verbose logging if needed\n\n3. **Local Testing**\n   ```bash\n   # Test production build locally\n   npm run build\n   npx serve -s build\n   ```\n\n## Advanced Configuration\n\n### Custom Headers\n\nAdd to `netlify.toml`:\n\n```toml\n[[headers]]\n  for = \"/admin/*\"\n  [headers.values]\n    X-Robots-Tag = \"noindex\"\n    Cache-Control = \"no-cache\"\n```\n\n### Redirects and Rewrites\n\n```toml\n# Redirect old URLs\n[[redirects]]\n  from = \"/old-admin\"\n  to = \"/dashboard\"\n  status = 301\n\n# Password protect staging\n[[redirects]]\n  from = \"/staging/*\"\n  to = \"/staging/:splat\"\n  status = 200\n  force = true\n  headers = {X-Robots-Tag = \"noindex\"}\n```\n\n### Split Testing\n\n```toml\n[[redirects]]\n  from = \"/\"\n  to = \"/dashboard-v2\"\n  status = 200\n  conditions = {Cookie = [\"version=v2\"]}\n```\n\n## Security Checklist\n\n- [ ] HTTPS enabled and enforced\n- [ ] Security headers configured\n- [ ] Environment variables secured\n- [ ] API endpoints protected\n- [ ] No sensitive data in client-side code\n- [ ] Regular dependency updates\n- [ ] Access logs monitored\n- [ ] Backup and recovery plan\n\n## Next Steps\n\nAfter successful deployment:\n\n1. **Set up monitoring** for uptime and performance\n2. **Configure alerting** for critical issues\n3. **Plan regular updates** for dependencies and features\n4. **Document operational procedures** for your team\n5. **Set up staging environment** for testing changes\n\nYour Pranayama Coach Admin Dashboard should now be live and accessible to your team!